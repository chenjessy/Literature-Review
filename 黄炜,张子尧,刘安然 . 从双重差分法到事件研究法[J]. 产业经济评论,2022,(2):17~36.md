This is a very comprehensive and thoughtful paper on the DID approach and event study. I will summarize the main contents here.

Authors of this paper:

*Huang Wei: Associate Professor of Economics, National School of Development, Peking University
*Zhang Ziyao: Ph.D. candidate at the School of Finance, Renmin University of China (at the time of publishing)
*Liu Anran: Master's student at the School of Agricultural and Rural Development, Renmin University of China (at the time of publishing)

The image below shows the trend of how several ways are used in the papers in the economics and management fields. From 2015 to now, the number of papers using DID has increased a lot.

<img width="933" height="356" alt="Screenshot 2025-09-17 at 4 03 09 PM" src="https://github.com/user-attachments/assets/c1fa99a8-4e7d-4cd2-8d83-6b3cf9a5ecf1" />

The reason why DID is popular in recent years is that it's a very straightforward way of extracting the causal effect by identifying the difference in effects on the individuals of the treatment group and the control group. The core is that there is an interaction term to identify the average treatment effect on the treated, which is called ATT. Or to be rigorous, the ATT at the post-treatment period.

1. Basic setup of DID model:

$Y_{it} = \alpha + \delta D_i + \lambda T_t + \beta(D_i \times T_t) + \epsilon_{it}$, $Y_{it}$: the outcome variable, $D_i$: dummy variable of group (treatment or control), $T_t$: dummy variable of policy time (pre or post), $D_i \times T_t$: interaction term, $\beta$: the coefficient for causal effect.

In reality, DID is often applied in the analysis of panel data, so the TWFE model is used. DID takes the following form when using TWFE:

$Y_{it} = \alpha + \beta (D_i \times T_t) + \mu_i +\gamma_t+\epsilon_{it}$

It takes this form because when there are individual fixed effects and time fixed effects, there will be a multicollinearity problem if the variable of the group is added.

2. Other forms of DID setups
   
   2.1 staggered DID

   The standard DID model and the TWFE model assume that the policy shock happens at the same period for all individuals. But in reality, this might not be true. So this provides the opportunity to use staggered DID. in this model, the dummy variable for groups changes from $D_i$ to $D_{it}$, and there needs interaction term no more as it already signal whether individual i is shocked by the policy at time t.

   2.2 generalized DID

   When all individuals are affected, there is no control group, but we can use the treatment intensity to do DID analysis. The dummy variable of group is now changed to a continuous variable to signal how largely the individual is affected (Nunn N., Qian N., “The potato’s contribution to population and urbanization: evidence from a historical experiment”,  QJE, 2011, 126(2): 593-650.).

   2.3 cohort DID

   Use cross-sectional data to identify the effect of a historical event on one individual. The first difference is the difference in regions. The second difference is the difference in cohort. The core of cohort DID is to use the individuals in the unaffected cohort as a control group for the individuals in the affected cohort (*Duflo E., “Schooling and labor market consequences of school construction in Indonesia: Evidence from an unusual  policy experiment”, American economic review, 2001, 91(4): 795-813. *Chen Y., Fan Z., Gu X., et al., “Arrival of young talent: The send-down movement and rural education in China”,  American Economic Review, 2020, 110(11): 3393-3430.).

   2.4 fuzzy DID

   When there is no clean treatment group and no clean control group, use the fuzzy DID design (De Chaisemartin, C., d’Haultfoeuille X., “Fuzzy differences-in-differences”, The Review of Economic Studies, 2018,  85(2), 999-1028.).

   2.5 triple DID

   Compare the difference on group-treatment-time level. There are two situations which triple-DID can be used. First, when the parallel trend hypothesis is not satisfied, adding the third level of difference can eliminate the difference in trend. Second, when the parallel trend hypothesis is satisfied, it can be used to identify the heterogeneity effect among groups (Olden A., Møen J., “The triple difference estimator, NHH Dept. of Business and Management Science Discussion  Paper, 2020.).

   2.6 Other DID methods

   The most important issue in using DID is to construct differences between any two dimensions. In other words, any model with interaction terms can be seen as DID (Mayzlin D., Dover Y., Chevalier J., “Promotional reviews: An empirical investigation of online review manipulation”,  American Economic Review, 2014, 104(8): 2421-55.; Rajan R., Zingales L., “Financial development and growth”, American Economic Review, 1998, 88(3): 559-586.).

3. The assumptions for the identification of DID

   3.1 Parallel trend assumption

    The thought behind DID is a natural experiment. The way of group samples doesn't need to be strictly random. What is important is that the trend of the outcome variable is independent of the policy shock ($\Delta Y^0$ needs to be random across groups, not have to be Y).

   $E(\Delta Y^0|D=1)=E(\Delta Y^0|D=0)$

   If the natural experiment condition is satisfied, then it's an RCT; DID is not necessary, as the comparison between the control group and treatment group is the treatment effect.

   ** One important question raised by the authors is whether DID can solve the endogeneity problem itself. The answer is no. As DID, as an empirical identification method, it assumes away the endogeneity instead of solving it. Whether there is an endogeneity problem or not in DID depends on whether the policy shock is exogenous or not. If the shock is affected by some factor X, X can affect the parallel trend after the shock. And when there is compositional change after the shock across groups, the endogeneity problem is severe.

   3.2 stable unit treatment values assumption (SUTVA)

   The treatment status of one individual doesn't affect the outcome of the other individuals. When there is a general equilibrium effect or spillover effect, which means the policy shock affects the individuals in the control group, the SUTVA is not satisfied anymore (Butts K., “Difference-in-Differences Estimation with Spatial Spillovers”, Papers, 2021; Callaway B., Sant’Anna P. H. C., “Difference-in-differences with multiple time periods”, Journal of Econometrics,  2020(5).).

4. Problems need to be paid attention to
   
   4.1 control variables

   Control variables in DID have two functions: to satisfy the conditional independence assumption (or there would be an omitted variable problem, e.g., the individual fixed effect and time fixed effect are necessary for panel data) and to decrease the standard errors. There are bad control variables that can bias the estimation of the causal effect. The key rule of whether a control variable is good or not depends on the determination time. If the determination time is after the policy shock, then it may be a bad control variable. For the neutral variables that don't affect CIA, usually we include them if they affect $Y_{it}$. But when they affect $D_i$, we don't include them as they will decrease the variation of $D_i \times T_t$.

   <img width="1102" height="537" alt="Screenshot 2025-09-18 at 3 35 20 PM" src="https://github.com/user-attachments/assets/f08abb0e-4851-4527-948a-fa1e918ed0a8" />

   4.2 parallel trend test

   <img width="717" height="88" alt="Screenshot 2025-09-18 at 6 05 05 PM" src="https://github.com/user-attachments/assets/45e6e1f8-e5bc-49ae-a8d1-462bbfb38cd1" />

   <img width="1044" height="550" alt="Screenshot 2025-09-18 at 6 06 47 PM" src="https://github.com/user-attachments/assets/660e68d5-9845-4b07-afee-638624593426" />

   Need to note that parallel pre-trend doesn't ensure the parallel trend assumption. Sun & Abraham (2018) points out that when there is heterogeneity in the treatment effect, there may be bias in the parallel trend test.

   <img width="1178" height="581" alt="Screenshot 2025-09-22 at 12 26 53 PM" src="https://github.com/user-attachments/assets/49e28a86-24cf-455f-b8cb-4d7d29ceea72" />

   Need to be cautious to control for the inter-group linear trend. When there is a collinearity problem between $D_i \times Trend_t$ and $D_i \times Post_t$, the estimation efficiency will be decreased as the standard errors are increased (in 4a, the distribution of coefficient estimates with inter-group linear trend control is more dispersed). And controlling for inter-group trend may absorb part of the treatment effect when the treatment effect is dynamic, which will underestimate the treatment effect (4b).

   When there exist both the inter-group time trend difference and dynamic treatment effects, IV and RDD are good methods to solve the problem.

5. DID and event study

   5.1 staggered DID

      Staggered DID is used when there are multiple intervention times for a policy.

         $Y_{it} =  \alpha + \beta D_{it} + \theta W_{it} + \mu_i + \gamma _t +\epsilon_{it}$

      When there is a one-time shock, $D_{it}$ can be decomposed as $D_{it}=D_i \times Post_t$. But recent studies find that there are severe problems in staggered DID (Callaway B., Sant’Anna P. H. C., “Difference-in-differences with multiple time periods”, Journal of Econometrics,  2020(5); De Chaisemartin C., d’Haultfoeuille X., “Two-way fixed effects estimators with heterogeneous treatment effects”,  American Economic Review, 2020, 110(9): 2964-96.; Goodman-Bacon A., “Difference-in-differences with variation in treatment timing”, Journal of Econometrics, 2021,  225(2): 254-277.). The problem lies in that the coefficient $\beta$ in staggered DID is a weighted average, but the weights here may be negative. In this case, we need to use dynamic DID.

   5.2 From dynamic DID to event study

   <img width="808" height="149" alt="Screenshot 2025-09-22 at 2 04 23 PM" src="https://github.com/user-attachments/assets/36722e0c-b506-4c68-ae3a-86465fa77728" />

   <img width="1070" height="497" alt="Screenshot 2025-09-22 at 2 17 25 PM" src="https://github.com/user-attachments/assets/41bbc889-2c58-4528-8665-cd698c9783c2" />

   The control group of dynamic DID is the individuals that's never been treated and the individuals that not been treated in the current period but will be treated in the future.

   When there is no individual that's never been treated, this becomes an event study. In other words, an event study can be seen as the dynamic DID without a control group.

   <img width="690" height="157" alt="Screenshot 2025-09-22 at 2 20 53 PM" src="https://github.com/user-attachments/assets/f05e4ccd-5907-4f91-9c18-ddedf294482b" />

   When using the event study method, choosing the event window becomes a problem. If the window is too wide, there will be selection bias, sample attrition, and an unbalanced sample. There will also be distortions to the effect by other events. The wider the window, the more efficient the estimation is, but the bigger the bias is. So a robustness check by changing the event window is often required.

   










